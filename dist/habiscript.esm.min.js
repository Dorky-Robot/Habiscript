"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e={exports:{}},n={exports:{}};n.exports=function(){function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t){return a(t)?t:c(r({stylesObject:t}))}const n="__*__";function r({stylesObject:t,parentSelector:e="",cssObject:i={},nestedSelector:c=""}){if(Array.isArray(t)){const[r,o]=t,a=`${s(r)}:${o};`,l=c?i[c]=i[c]||{}:i,f=s(e||n);l[f]=(l[f]||"")+a}else Object.keys(t).forEach((a=>{const l=t[a];if(a.startsWith("@"))r({stylesObject:l,cssObject:i,nestedSelector:a});else if("object"!=typeof l){const t=`${s(a)}:${l};`,r=c?i[c]=i[c]||{}:i,o=s(e||n);r[o]=(r[o]||"")+t}else r({stylesObject:l,parentSelector:o(e,a),cssObject:i,nestedSelector:c})}));return i}function o(t,e){if(!t)return e;const n=i(t),r=i(e);return n.map((t=>r.map((e=>`${t}${e.startsWith(":")?"":" "}${e}`)).join(","))).join(",")}function s(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function i(t){return t.split(",").map((t=>t.trim()))}function c(t){return"object"!=typeof t||Array.isArray(t)||a(t)?t:Object.entries(t).map((([t,e])=>t===n?c(e):`${t}{${c(e)}}`)).join("")}function a(t){return!t||0===Object.keys(t).length}var l=t({style:e});return l}();var r=n.exports;!function(t){const{style:e}=r,n=/\.[^.#]+/g,o=/#[^.#]+/;function s(t){let e={};return t.split(";").forEach((t=>{let[n,r]=t.split(":");n&&r&&(n=n.trim(),n=n.replace(/-./g,(t=>t.charAt(1).toUpperCase())),e[n]=r.trim())})),e}function i(t){if("string"==typeof t)return document.createTextNode(t);if(t instanceof Node)return t;const[e,...r]=t;let s,c={};if("string"!=typeof e)throw new Error("The first element of the habiscript array must be a string.");{s=e.split(/[#.]/)[0];const t=e.match(n),r=e.match(o);t&&(c.class=t.map((t=>t.substring(1))).join(" ")),r&&(c.id=r[0].substring(1))}r.length>0&&"object"==typeof r[0]&&!Array.isArray(r[0])&&Object.assign(c,r.shift());return function(t,e={},n){const r=document.createElement(t);for(const[t,n]of Object.entries(e))if("style"===t&&"object"==typeof n)Object.assign(r.style,n);else if("function"==typeof n&&t.startsWith("on")){const e=t.substring(2).toLowerCase();r.addEventListener(e,n)}else void 0!==n&&r.setAttribute(t,n);for(const t of n)"string"==typeof t?r.appendChild(document.createTextNode(t)):t instanceof Node?r.appendChild(t):Array.isArray(t)&&r.appendChild(i(t));return r}(s,c,r.flatMap((t=>Array.isArray(t)?i(t):t)))}function c(t){const e=i(t);return"undefined"!=typeof document&&document.body.appendChild(e),e}c.habiToHtml=i,c.htmlToHabi=function t(e){if("string"==typeof e){return t((new DOMParser).parseFromString(e,"text/html").body.firstChild)}if(e.nodeType===Node.TEXT_NODE)return e.textContent;let n=e.tagName.toLowerCase();e.id&&(n+=`#${e.id}`),e.className&&(n+=`.${e.className.split(" ").join(".")}`);const r=[n],o={};for(const t of e.attributes)"class"!==t.name&&"id"!==t.name&&("style"===t.name?o.style=s(t.value):o[t.name]=t.value);Object.keys(o).length>0&&r.push(o);for(const n of e.childNodes)r.push(t(n));return r},c.toElement=function(t){return i(t)},c.style=function(t){return this.toElement(["style",e(t)])},t.exports?t.exports=c:"undefined"!=typeof window&&(window.Habiscript=c)}(e);var o=t(e.exports);export{o as default};
